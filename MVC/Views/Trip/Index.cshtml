@model IEnumerable<BLL.DTO.ReadTripDTO>

<div class="container-fluid">
	<div class="card">
		<div class="card-header">
			<h5 class="card-title fw-semibold">Position Page</h5>
		</div>
		<div class="card-body">
			<a asp-action="Create" class="btn btn-rounded btn-primary btn-md">Create New Trip Report</a>
			@Html.Raw(TempData["Message"])
			<hr />
			<br />
			<div class="table-responsive">
				<table id="default_order" class="table border table-striped table-bordered text-nowrap"
					   style="width:100%">
					<thead>
						<tr>
							<th>Trip ID</th>
							<th>Submitted By</th>
							<th>Destination</th>
							<th>Start Date</th>
							<th>End Date</th>
							<th>Total Cost</th>
							<th>Status</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<td>@item.TripID</td>
								<td>@item.Staff.Name</td>
								<td>@item.Location</td>
								<td>@item.StartDate</td>
								<td>@item.EndDate</td>
								<td>@item.TotalCost</td>
								<td>@item.Status.StatusName</td>
								<td>
									<a href="@Url.Action("Detail", new { TripID = item.TripID })" , class="btn btn-rounded btn-outline-success btn-sm">Details</a>
									@{
										if (item.Status.StatusName == "Drafted/Planned")
										{
											<a asp-action="Delete" onclick="return confirm('Are you sure you want to delete this position ?')" asp-route-id="@item.TripID" class="btn btn-rounded btn-outline-danger btn-sm">Delete</a>
										}
									}
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>